(function(e){function t(t){for(var r,i,l=t[0],o=t[1],u=t[2],b=0,d=[];b<l.length;b++)i=l[b],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);s&&s(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,l=1;l<n.length;l++){var o=n[l];0!==a[o]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},c=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var s=o;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a=(n("b0c0"),{class:"main-table"}),c={class:"main-table__controls"},i={class:"input-group"},l={type:"button",class:"btn btn-outline-secondary filter-column"},o=Object(r["e"])("button",{type:"button",class:"btn btn-outline-secondary dropdown-toggle dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false"},[Object(r["e"])("span",{class:"visually-hidden"},"Toggle Dropdown")],-1),u={class:"dropdown-menu"},s=["onClick"],b=["innerHTML"],d=Object(r["e"])("button",{type:"button",class:"btn btn-outline-secondary dropdown-toggle dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false"},[Object(r["e"])("span",{class:"visually-hidden"},"Toggle Dropdown")],-1),p={class:"dropdown-menu"},f=["onClick","innerHTML"],O=["disabled"],g={class:"input-group d-flex justify-content-between input-group-text"},j={class:""},h={key:0,class:"lds-ellipsis"},m=Object(r["e"])("div",null,null,-1),v=Object(r["e"])("div",null,null,-1),y=Object(r["e"])("div",null,null,-1),P=Object(r["e"])("div",null,null,-1),C=[m,v,y,P],k={class:"main-table__table mt-3"},w={key:0,class:"alert alert-danger"},x={key:1,class:"table table-primary table-bordered table-striped"},_=Object(r["e"])("th",{scope:"col"},"#",-1),B={scope:"row"},T={key:2,class:""},D={class:"main-table__paginate"},F={key:0,"aria-label":"paginate"},R={class:"pagination"},M=["aria-disabled"],V={key:0,class:"page-item"},N={class:"page-item active","aria-current":"page"},Q={class:"page-link"},q={key:1,class:"page-item"},E=["aria-disabled"];function L(e,t,n,m,v,y){return Object(r["g"])(),Object(r["d"])("article",a,[Object(r["e"])("section",c,[Object(r["e"])("div",i,[Object(r["e"])("button",l,Object(r["i"])(v.filterByColumn?v.filterByColumn:"Выбор колонки:"),1),o,Object(r["e"])("ul",u,[(Object(r["g"])(!0),Object(r["d"])(r["a"],null,Object(r["h"])(v.filterTableColumns,(function(e,t){return Object(r["g"])(),Object(r["d"])("li",{key:t},[Object(r["e"])("a",{onClick:function(t){return v.filterByColumn=e},class:"dropdown-item",href:"#"},Object(r["i"])(e),9,s)])})),128))]),Object(r["e"])("button",{type:"button",class:"btn btn-outline-secondary",innerHTML:v.filterOperand?v.filterOperand:"Выбор условия:"},null,8,b),d,Object(r["e"])("ul",p,[(Object(r["g"])(!0),Object(r["d"])(r["a"],null,Object(r["h"])(v.filterOperands,(function(e,t){return Object(r["g"])(),Object(r["d"])("li",{key:t},[Object(r["e"])("a",{onClick:function(t){return v.filterOperand=e},innerHTML:e,class:"dropdown-item",href:"#","aria-label":"less"},null,8,f)])})),128))]),Object(r["k"])(Object(r["e"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return v.filterByValue=e}),type:"text",class:"form-control","aria-label":"Фильтрация таблицы"},null,512),[[r["j"],v.filterByValue]]),Object(r["e"])("button",{onClick:t[1]||(t[1]=function(e){return y.makeFilterQuery()}),disabled:y.isNotFilledFilter,class:"btn btn-outline-secondary",type:"button"},"Фильтровать ",8,O)]),Object(r["e"])("div",g,[Object(r["e"])("div",j,Object(r["i"])(y.displayedFilter),1),v.loading?(Object(r["g"])(),Object(r["d"])("div",h,C)):Object(r["c"])("",!0),Object(r["e"])("button",{onClick:t[2]||(t[2]=function(e){return y.resetFilter()}),class:"btn btn-outline-danger",type:"button"}," Сбросить ")])]),Object(r["e"])("section",k,[v.requestError?(Object(r["g"])(),Object(r["d"])("div",w,Object(r["i"])(this.requestError),1)):Object(r["c"])("",!0),v.requestError?Object(r["c"])("",!0):(Object(r["g"])(),Object(r["d"])("table",x,[Object(r["e"])("thead",null,[Object(r["e"])("tr",null,[_,Object(r["e"])("th",{class:Object(r["f"])([{"table-active":"date"===v.activeColumn},"table__head"]),scope:"col"},[Object(r["e"])("button",{onClick:t[3]||(t[3]=function(e){return y.sortTable("date")}),class:"bg-transparent border-0 w-100 h-100 btn-sorting","aria-label":"Дата"}," Дата ")],2),Object(r["e"])("th",{class:Object(r["f"])([y.sortingColumn("name"),"table__head"]),scope:"col"},[Object(r["e"])("button",{onClick:t[4]||(t[4]=Object(r["l"])((function(e){return y.sortTable("name")}),["prevent"])),class:"bg-transparent border-0 w-100 h-100 btn-sorting","aria-label":"Название"}," Название ")],2),Object(r["e"])("th",{class:Object(r["f"])([y.sortingColumn("count"),"table__head"]),scope:"col"},[Object(r["e"])("button",{onClick:t[5]||(t[5]=function(e){return y.sortTable("count")}),class:"bg-transparent border-0 w-100 h-100 btn-sorting","aria-label":"Количество"}," Количество ")],2),Object(r["e"])("th",{class:Object(r["f"])([y.sortingColumn("distance"),"table__head"]),scope:"col"},[Object(r["e"])("button",{onClick:t[6]||(t[6]=function(e){return y.sortTable("distance")}),"aria-label":"Расстояние",class:"bg-transparent border-0 w-100 h-100"}," Расстояние ")],2)])]),Object(r["e"])("tbody",null,[v.tableData?(Object(r["g"])(!0),Object(r["d"])(r["a"],{key:0},Object(r["h"])(v.tableData,(function(e,n){return Object(r["g"])(),Object(r["d"])("tr",{key:n},[Object(r["e"])("th",B,Object(r["i"])(n+1+v.perPage*(v.currentPage-1)),1),Object(r["e"])("td",{class:Object(r["f"])({"table-active":"date"===v.activeColumn}),onClick:t[7]||(t[7]=function(e){return v.activeColumn="date"})},Object(r["i"])(e.date),3),Object(r["e"])("td",{class:Object(r["f"])({"table-active":"name"===v.activeColumn}),onClick:t[8]||(t[8]=function(e){return v.activeColumn="name"})},Object(r["i"])(e.name),3),Object(r["e"])("td",{class:Object(r["f"])({"table-active":"count"===v.activeColumn}),onClick:t[9]||(t[9]=function(e){return v.activeColumn="count"})},Object(r["i"])(e.count),3),Object(r["e"])("td",{class:Object(r["f"])({"table-active":"distance"===v.activeColumn}),onClick:t[10]||(t[10]=function(e){return v.activeColumn="distance"})},Object(r["i"])(e.distance),3)])})),128)):Object(r["c"])("",!0)])])),v.tableData===[]?(Object(r["g"])(),Object(r["d"])("div",T," Нет данных ")):Object(r["c"])("",!0)]),Object(r["e"])("section",D,[v.prevPage||v.nextPage?(Object(r["g"])(),Object(r["d"])("nav",F,[Object(r["e"])("ul",R,[Object(r["e"])("li",{class:Object(r["f"])(["page-item",{disabled:!y.hasPrevPage}])},[Object(r["e"])("button",{class:"page-link",tabindex:"-1","aria-disabled":!y.hasPrevPage,onClick:t[11]||(t[11]=Object(r["l"])((function(e){return y.loadPage(v.currentPage=v.currentPage-1)}),["prevent"]))},"Previous ",8,M)],2),y.hasPrevPage?(Object(r["g"])(),Object(r["d"])("li",V,[Object(r["e"])("button",{onClick:t[12]||(t[12]=Object(r["l"])((function(e){return y.loadPage(v.currentPage=v.currentPage-1)}),["prevent"])),class:"page-link"},Object(r["i"])(v.currentPage-1),1)])):Object(r["c"])("",!0),Object(r["e"])("li",N,[Object(r["e"])("button",Q,Object(r["i"])(v.currentPage),1)]),y.hasNextPage?(Object(r["g"])(),Object(r["d"])("li",q,[Object(r["e"])("button",{onClick:t[13]||(t[13]=Object(r["l"])((function(e){return y.loadPage(v.currentPage=v.currentPage+1)}),["prevent"])),class:"page-link"},Object(r["i"])(v.currentPage+1),1)])):Object(r["c"])("",!0),Object(r["e"])("li",{class:Object(r["f"])(["page-item",{disabled:!y.hasNextPage}])},[Object(r["e"])("button",{class:"page-link","aria-disabled":!y.hasNextPage,onClick:t[14]||(t[14]=Object(r["l"])((function(e){return y.loadPage(v.currentPage=v.currentPage+1)}),["prevent"]))},"Next ",8,E)],2)])])):Object(r["c"])("",!0)])])}var S=n("1da1"),H=(n("4e82"),n("99af"),n("96cf"),n("7b17"),n("bc3a")),A=n.n(H),J="/api/delivery";function U(e,t){return z.apply(this,arguments)}function z(){return z=Object(S["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={currentPage:t,query:n,perPage:10},e.next=3,A.a.get(J,{params:r});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}var G={name:"App",data:function(){return{filterByValue:"",filterByColumn:"",filterOperand:"",requestError:"",activeColumn:"",loading:!1,filterQuery:{},currentPage:1,prevPage:"",nextPage:"",sorting:{column:null,direction:!0},perPage:10,filterTableColumns:["Название","Количество","Расстояние","Дата"],filterOperands:["равно","содержит","больше","меньше"],tableData:[]}},created:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadPage(e.currentPage,e.filterQuery);case 2:case"end":return t.stop()}}),t)})))()},methods:{loadPage:function(e){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loading=!0,n.next=3,U(e,t.filterQuery);case 3:r=n.sent,t.loading=!1,window.response=r,t.tableData=r.data,t.prevPage=r.prev,t.requestError=r.error,t.nextPage=r.next,t.currentPage=r.page;case 11:case"end":return n.stop()}}),n)})))()},makeFilterQuery:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.filterQuery={column:e.filterByColumn,operand:e.filterOperand,value:e.filterByValue},t.next=3,e.loadPage(1);case 3:case"end":return t.stop()}}),t)})))()},resetFilter:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.blankAllFiltres(),t.next=3,e.makeFilterQuery();case 3:case"end":return t.stop()}}),t)})))()},blankAllFiltres:function(){this.filterByColumn="",this.filterOperand="",this.filterByValue=""},sortingColumn:function(e){var t=this.activeColumn===e?"table-active ":"";return this.sorting.column===e&&(t+=this.sorting.direction?"head_sorted-up":"head_sorted-down"),t},sortTable:function(e){this.activeColumn=e,this.sorting.column=e,"name"!==e?this.sorting.direction?this.tableData.sort((function(t,n){return t[e]-n[e]})):this.tableData.sort((function(t,n){return n[e]-t[e]})):this.sorting.direction?this.tableData.sort((function(t,n){return t[e].localeCompare(n[e])})):this.tableData.sort((function(t,n){return n[e].localeCompare(t[e])})),this.sorting.direction=!this.sorting.direction}},computed:{isNotFilledFilter:function(){var e=[this.filterOperand,this.filterByColumn,this.filterByValue];return!e.every((function(e){return""!==e}))},displayedFilter:function(){return"".concat(this.filterByColumn," ").concat(this.filterOperand," ").concat(this.filterByValue)},isTableDataLoad:function(){return this.tableData!==[]},hasNextPage:function(){return""!==this.nextPage},hasPrevPage:function(){return""!==this.prevPage},checked_name:function(){return"Название"===this.filterByColumn},checked_contain:function(){return"содержит"===this.filterOperand}},watch:{filterByColumn:function(e){"Название"!==e?(this.filterOperands=["равно","больше","меньше"],"содержит"===this.filterOperand&&(this.filterOperand="")):this.filterOperands=["равно","содержит"]},filterOperand:function(e){"содержит"===e?(this.filterTableColumns=["Название"],"Название"!==this.filterByColumn&&(this.filterByColumn="")):this.filterTableColumns=["Название","Количество","Расстояние","Дата"]}}},I=(n("ec68"),n("6b0d")),K=n.n(I),W=K()(G,[["render",L]]);Object(r["b"])(W).mount("#app")},ec68:function(e,t,n){"use strict";n("f47e")},f47e:function(e,t,n){}});
//# sourceMappingURL=app.5d2029bd.js.map